<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<!-- <script src="bundle.js" type="text/javascript"></script> -->
</head>

<body>
	<div id="container">
		<!-- Start your code from here -->
		<form class="form">
      <div class="countInfo">
        <p><strong>Characters:</strong> <span class="charCount">00</span></p>
        <p><strong>Threads:</strong> <span class="threadCount">00</span></p>
      </div>
      <textarea class="textArea" required="" wrap="soft" placeholder="Type Your Thread" onkeyup="textInfo(this);"></textarea>
      <button type="button" class="btn" onclick=arrMaker(); >Thread</button>
    </form>

    <div class="threadList"></div>

	<!-- End your code -->

	</div>

	<script type="text/javascript">
    const charCount = document.querySelector('.charCount');
  const threadCount = document.querySelector('.threadCount');
  const threadList = document.querySelector('.threadList');

  let size = 275;
  let count = 1;

  function textInfo(text) {
    let length = text.value.length;
    charCount.innerHTML = length;
    threadCount.innerHTML = Math.ceil(length/size);
  }

  function arrMaker() {
    let arr = [];
    const textVal = document.querySelector('.textArea').value;
    const textSize = Math.ceil(textVal.length/size);
    let offset = 0;

    for (let i = 0; i < textSize; i++) {
      arr.push(textVal.substr(offset, size));
      offset += size
    }

    for (let j = 0; j < arr.length; j++) {
      const createPara = document.createElement('div');
      createPara.setAttribute('key', count);
      createPara.innerHTML = `
      <article class="thread">
      <div class="tools">
      <span class="index">${count}</span>
      </div>
      <p class="tweet">
      ${arr[j]}
      </p>
      </article>
      `;
      count += 1
      threadList.appendChild(createPara);
      createPara.addEventListener('click', createPara.remove);
    }
  }
	</script>

</body>
<script>
/* DO NOT EDIT THIS CODE- WRITTERN TO PREVENT CSS CACHING */	  
	// Get HTML head element
	var head = document.getElementsByTagName('HEAD')[0]; 
	// Create new link Element
	var link = document.createElement('link');
	// set the attributes for link element 
	link.rel = 'stylesheet'; 
	link.type = 'text/css';
	link.href = './assignment6.css?v='+ new Date().getTime(); 
	// Append link element to HTML head
	head.appendChild(link); 
	/* DO NOT EDIT THIS CODE- WRITTERN TO PREVENT CSS CACHING */	  
</script> 
</html>
